<html>
<head>
	<title>Sasquatch :: Commandline Options</title>
	<link rel="stylesheet" href="http://www.nodejs.org/api/assets/style.css">
  <link rel="stylesheet" href="http://thoughtleadr.github.com/Sasquatch/css/highlight.css">
  <link rel="stylesheet" href="http://thoughtleadr.github.com/Sasquatch/css/style.css">
</head>
<body class="alt apidoc" id="api-section-index">
  <div id="intro" class="interior">
    <a href="/" title="Go back to the home page">
      <img id="logo" src="http://www.thoughtleadr.com/wp-content/themes/ThoughtLeadr/img/tldr-logo.png" alt="node.js">
    </a>
  </div>
  <div id="content" class="clearfix">
    <div id="column2" class="interior">
      <ul>
				<li><a href="/" class="home">Home</a></li>
				<li><a href="commandline.html" class="npm current">Commandline</a></li>
				<li><a href="api.html" class="docs">JS API</a></li>
				<li><a href="gettingstarted.html" class="blog">Get Started</a></li>
      </ul>
    </div>
		<div id="column1" class="interior">
			<h1>Sample Todo App</h1>
			<section>
				<h3 id="create-project">Create the project</h3>
				<p>
					First thing we want to do is create a new project. we can do this by typing into the console:
				</p>
<pre>sasquatch create-project todo</pre>
			</section>
			<section>
				<h3 id="file-struct">Project Structure</h3>
				<p>
					Entering into the newly created directory you will see your newly create project with a file structure like this:
				</p>
				<pre>
- todo
  - controller/
  - view/
  - partial/
  - lib/
  - img/
  - style/
  - app.json
  - config.json
  - routes.json
  - template.html</pre>
			</section>
			<section>
				<h3 id="template">template.html</h3>
				<p>
					Go ahead and open the template.html file in your favorite text editor. You will see your basic template file with a few for loops that place your css and js files into the webpage. Also some basic html with a body tage that has one div in it with a class content.
				</p>
				<p>
					If you also open the config.json file you can see a simple json file with two keys, "rootElement" and "defaultView", rootElement is the selector for where you want to insert your views into the template file. The second is the defaultView it will use when loading the root of the project. Change this to "todo".
				</p>
			</section>
			<section>
				<h3 id="create-view">Create a New View/Controller</h3>
				<p>
					Next we would like to create our first view and controller. The can be done by typing the following into the console, in the root of your project.
				</p>
<pre>sasquatch create-view index</pre>
				<p>This creates two files, one in the "view" directory called "index.erb" and another in the controller directory called "index.js"</p>
			</section>
			<section>
				<h3 id="todo-view">Your First View</h3>
				<p>
					Go to the view directory and you will see your newly created index.erb file. You will also see another file, second.erb, you can delete it is just a sample file.
				</p>
				<p>
					Opening the todo.erb file it will be blank, type some html into the file and save it.
				</p>
			</section>
			<section>
				<p>Next in the root of the project open routes.json. You will see some sample routes already there. The first one maps the base route to the controller index, and the second maps the route second/ with an optional tag ":heading:" to the controller second. You can delete the second route as it is an example and we will not be using it.</p>
				<p>Next run:</p>
				<pre>sasquatch dev server</pre>
				<p>This commands does a dev build, puts an observer on your project folder for file changes, and starts up a server running you app at localhost:8000/bin/. Navigating there will show the html you put into index.erb</p>
			</section>
			<section>
				<h3 id="todo-cont">Your First Controller</h3>
				<p>
					The "create-view" command also creates a new controller, you can find your new controller in the controller directory. It is the same name as the view, open index.js in you favorite text editor. You will also see one other file, second.js, you can delete that as it is just sample a file.
				</p>
				<p>
					Controllers have three main function. The first is the loadData, function. This is where you can get all the parameters you
					defined in routes and where you assign local variables that your view can use. loadData has two paramters,
					the first is an object with the named parameters you defined in your routes and the second is a callback
					function where you return an object of local variables used in the corresponding view (index.erb)
				</p>
				<p>Go ahead and add a key and value to the callback like so:</p>
<pre class="javascript">
exports.loadData = function(data, callback){
  console.log("view ready:todo");
  callback({
    heading: "My first todo app"
  });
};
</pre>
        <p>Now switch back to index.erb in your views directory and add:</p>
<pre>
&lt;h2&gt;&lt;%= heading %&gt;&lt;/h2&gt;
</pre>
        <p>Reload your browser and you should now see "My first todo app" as a heading on your view (remember to have "sasquatch dev server" running)</p>
			</section>
		</div>
	</div>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
  <script src="http://thoughtleadr.github.com/Sasquatch/js/highlight.js"></script>
	<script src="http://thoughtleadr.github.com/Sasquatch/js/script.js"></script>
</body>
</html>
